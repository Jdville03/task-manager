<div class="panel panel-default">
  <div class="panel-heading">
    <span class="panel-title">
      <% if @list.shared_list? %>
        <i class="fa fa-users fa-fw text-success" aria-hidden="true"></i>
      <% else %>
        <i class="fa fa-user-o fa-fw text-primary" aria-hidden="true"></i>
      <% end %>
      <%= @list.name %>
    </span>
    <div class="btn-group pull-right">
      <button type="button" class="btn btn-link btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fa fa-sort fa-fw" aria-hidden="true"></i>
      </button>
      <ul class="dropdown-menu">
        <li class="dropdown-header">Sort</li>
        <li><a href="#"><i class="fa fa-sort-alpha-asc fa-fw" aria-hidden="true"></i> Alphabetically</a></li>
        <li><a href="#"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Creation Date</a></li>
        <li><a href="#"><i class="fa fa-star-o fa-fw" aria-hidden="true"></i> Priority</a></li>
        <li><a href="#"><i class="fa fa-user-o fa-fw" aria-hidden="true"></i> Assignee</a></li>
      </ul>
    </div>
  </div>
  <div class="panel-body">
    <%= form_for([@list, @task]) do |f| %>
      <div class="form-group <%= "has-error" if @task.errors[:description].any? %> form-group-in-panel">
        <div class="input-group">
          <span class="input-group-btn">
            <%= button_tag(type: "submit", class: "btn btn-default") do %>
              <i class="fa fa-plus fa-fw" aria-hidden="true"></i>
            <% end %>
          </span>
          <%= f.text_field :description, placeholder: @task.errors.full_messages_for(:description).first || "Create new task", class: "form-control", 'aria-describedby': "new-task-addon" %>
        </div>
        <!-- <%= f.submit :style => "display: none" %> -->
      </div>
    <% end %>
  </div>
  <ul class="list-group my-tasks">
    <%= render :collection => @list.tasks, :partial => "tasks/task_li", :as => :task %>
  </ul>
</div>
