<div class="row">
  <div class="col-sm-4">
    <div class="panel panel-info">
      <div class="panel-heading">
        <strong><i class="fa fa-tasks fa-fw" aria-hidden="true"></i> Tasks</strong>
      </div>
      <div class="list-group">
        <a href="#" class="list-group-item">
          <span class="badge"><%= current_user.tasks.incomplete.count %></span>
          <i class="fa fa-square-o fa-fw" aria-hidden="true"></i> All
        </a>
        <% if current_user.assigned_tasks.incomplete.any? %>
          <a href="#" class="list-group-item">
            <span class="badge"><%= current_user.assigned_tasks.incomplete.count %></span>
            <i class="fa fa-user fa-fw text-primary" aria-hidden="true"></i> Assigned to me <small>(from shared lists)</small>
          </a>
        <% end %>
        <a href="#" class="list-group-item">
          <span class="badge">2</span>
          <i class="fa fa-flag fa-fw text-danger" aria-hidden="true"></i> Urgent
        </a>
        <a href="#" class="list-group-item">
          <span class="badge">2</span>
          <i class="fa fa-flag-o fa-fw text-warning" aria-hidden="true"></i> Important
        </a>
        <a href="#" class="list-group-item">
          <span class="badge">3</span>
          <i class="fa fa-clock-o fa-fw text-danger" aria-hidden="true"></i> Overdue
        </a>
        <a href="#" class="list-group-item">
          <span class="badge">4</span>
          <i class="fa fa-calendar-times-o fa-fw text-warning" aria-hidden="true"></i> Due Today
        </a>
      </div>
    </div>
  </div>

  <div class="col-sm-8">
    <div class="panel panel-info">
      <div class="panel-heading">
        <strong><i class="fa fa-list fa-fw" aria-hidden="true"></i> Lists</strong>
        <div class="btn-group pull-right">
          <button type="button" class="btn btn-link btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-sort fa-fw" aria-hidden="true"></i>
          </button>
          <ul class="dropdown-menu">
            <li class="dropdown-header">Sort</li>
            <li><a href="#"><i class="fa fa-sort-alpha-asc fa-fw" aria-hidden="true"></i> Alphabetically</a></li>
            <li><a href="#"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Creation Date</a></li>
            <li><a href="#"><i class="fa fa-sort-numeric-desc fa-fw" aria-hidden="true"></i> Incomplete Tasks</a></li>
            <li><a href="#"><i class="fa fa-sort-numeric-asc fa-fw" aria-hidden="true"></i> Incomplete Tasks</a></li>
          </ul>
        </div>
      </div>
      <div class="list-group">
        <%= form_for @list do |f| %>
          <div class="list-group-item form-group <%= "has-error" if @list.errors[:name].any? %>">
            <div class="input-group">
              <span class="input-group-btn">
                <%= button_tag(type: "submit", class: "btn btn-default") do %>
                  <i class="fa fa-plus fa-fw" aria-hidden="true"></i>
                <% end %>
              </span>
              <%= f.text_field :name, placeholder: @list.errors.full_messages_for(:name).first || "Create new list", class: "form-control", 'aria-describedby': "new-list-addon" %>
            </div>
            <!-- <%= f.submit :style => "display: none" %> -->
          </div>
        <% end %>
        <% @lists.each do |list| %>
          <a href="<%= list_path(list) %>" class="list-group-item">
            <span class="badge"><%= number_of_incomplete_tasks(list) if !list.all_tasks_completed? %></span>
            <% if list.shared_list? %>
              <i class="fa fa-users fa-fw text-success" aria-hidden="true"></i>
            <% else %>
              <i class="fa fa-user-o fa-fw text-primary" aria-hidden="true"></i>
            <% end %>
            <%= list.name %>
          </a>
        <% end %>
      </div>
    </div>
  </div>
</div>
